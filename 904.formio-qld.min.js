"use strict";(self.webpackChunkFormioQld=self.webpackChunkFormioQld||[]).push([[904],{3904:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var o=r(6486),s=r.n(o);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var c,p,f,y=Formio.Providers.providers.address.custom,v="https://www.address.services.qld.gov.au",m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(f,e);var t,r,o,n,c,p=(n=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(n);if(c){var r=d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return l(this,e)});function f(){return i(this,f),p.apply(this,arguments)}return t=f,r=[{key:"queryProperty",get:function(){return"query"}},{key:"responseProperty",get:function(){return"AutoCompleteAddressResponse.AutoCompleteAddressResult.string"}},{key:"displayValueProperty",get:function(){return"autocompleteAddress"}},{key:"getAddress1",value:function(e){return e.siteName&&e.complexDesc&&e.streetAddress?e.siteName:!e.siteName&&e.complexDesc&&e.streetAddress?e.complexDesc:e.siteName&&!e.complexDesc&&e.streetAddress?e.siteName:e.siteName||e.complexDesc||!e.streetAddress?"":e.streetAddress}},{key:"getAddress2",value:function(e){return e.siteName&&e.complexDesc&&e.streetAddress?e.complexDesc:!e.siteName&&e.complexDesc&&e.streetAddress||e.siteName&&!e.complexDesc&&e.streetAddress?e.streetAddress:""}},{key:"getAddress3",value:function(e){return e.siteName&&e.complexDesc&&e.streetAddress?e.streetAddress:""}},{key:"getCity",value:function(e){return e.Locality||""}},{key:"getState",value:function(e){return e.State||""}},{key:"getPostcode",value:function(e){return e.Postcode||""}},{key:"breakAddress",value:function(e){var t,r,o,s,n,i,u,a,l,d,c,p=e.SiteName||"",f=null!==(t=e.Parcel)&&void 0!==t&&t.Lot?"LOT ".concat(e.Parcel.Lot):void 0,y=[f,null===(r=e.Unit)||void 0===r?void 0:r.TypeCode,null===(o=e.Unit)||void 0===o?void 0:o.Number,null===(s=e.Level)||void 0===s?void 0:s.TypeCode,null===(n=e.Level)||void 0===n?void 0:n.Number].filter((function(e){return void 0!==e})).join(" "),v=[null===(i=e.RoadNumber)||void 0===i?void 0:i.First,null!==(u=e.RoadNumber)&&void 0!==u&&u.Last?"-":void 0,null===(a=e.RoadNumber)||void 0===a?void 0:a.Last].filter((function(e){return void 0!==e})).join(""),m=[v,null===(l=e.Road)||void 0===l?void 0:l.Name,null===(d=e.Road)||void 0===d?void 0:d.TypeCode,null===(c=e.Road)||void 0===c?void 0:c.Suffix].filter((function(e){return void 0!==e})).join(" "),h={siteName:p,lot:f,complexDesc:y,roadNumberPart:v,streetAddress:m,Locality:e.Locality,State:e.State,Postcode:e.Postcode};return{address1:this.getAddress1(h),address2:this.getAddress2(h),address3:this.getAddress3(h),city:this.getCity(h),state:this.getState(h),postcode:this.getPostcode(h)}}},{key:"makeParseRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Formio.makeStaticRequest(this.getParseRequestUrl(e),"GET",null,{noToken:!0})}},{key:"parseAddress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRequestOptions(t),o=r.params||{};return o[this.queryProperty]=e.trim(),this.makeParseRequest(r).then((function(e){var t=parseFloat(e.ParseAddressResponse.ParseAddressResult.ResultCount);return 0===t?{}:1===t?e.ParseAddressResponse.ParseAddressResult.Results.Result.Address:s().maxBy(e.ParseAddressResponse.ParseAddressResult.Results.Result,(function(e){return e.Confidence})).Address}))}},{key:"search",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.getRequestOptions(r),n=o.params||{};return n[this.queryProperty]=e.trim(),this.makeRequest(o).then((function(e){return t.responseProperty?s().get(e,t.responseProperty,[]):e}))}},{key:"getDisplayValue",value:function(e){return s().isEmpty(e)?"":s().get(e,this.displayValueProperty,"")}},{key:"getRequestUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,r=e.apiBase;return"".concat(r||v,"/pls-plus-qg/AutoCompleteAddress?").concat(this.serialize(t))}},{key:"getParseRequestUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,r=e.apiBase;return"".concat(r||v,"/pls-plus-qg/ParseAddress?").concat(this.serialize(t))}}],o=[{key:"name",get:function(){return"plsPlus"}},{key:"displayName",get:function(){return"PLS Plus"}}],r&&u(t.prototype,r),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),f}(y),h={address:(c={},p=m.name,f=m,p in c?Object.defineProperty(c,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[p]=f,c)}}}]);
//# sourceMappingURL=904.formio-qld.min.js.map