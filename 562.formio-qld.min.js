(self.webpackChunkFormioQld=self.webpackChunkFormioQld||[]).push([[562],{7338:function(e){e.exports=function(){"use strict";return function(e){var t,n,o=document,r=e.container||o.createElement("div"),i=r.style,a=navigator.userAgent,s=-1!==a.indexOf("Firefox")&&-1!==a.indexOf("Mobile"),u=e.debounceWaitMs||0,l=e.preventSubmit||!1,c=e.disableAutoSelect||!1,d=s?"input":"keyup",p=[],f="",h=2,m=e.showOnFocus,y=0;if(void 0!==e.minLength&&(h=e.minLength),!e.input)throw new Error("input undefined");var v=e.input;function b(){n&&window.clearTimeout(n)}function g(){return!!r.parentNode}function w(){var e;y++,p=[],f="",t=void 0,(e=r.parentNode)&&e.removeChild(r)}function k(){for(;r.firstChild;)r.removeChild(r.firstChild);var n=function(e,t){var n=o.createElement("div");return n.textContent=e.label||"",n};e.render&&(n=e.render);var a=function(e,t){var n=o.createElement("div");return n.textContent=e,n};e.renderGroup&&(a=e.renderGroup);var s=o.createDocumentFragment(),u="#9?$";if(p.forEach((function(o){if(o.group&&o.group!==u){u=o.group;var r=a(o.group,f);r&&(r.className+=" group",s.appendChild(r))}var i=n(o,f);i&&(i.addEventListener("click",(function(t){e.onSelect(o,v),w(),t.preventDefault(),t.stopPropagation()})),o===t&&(i.className+=" selected"),s.appendChild(i))})),r.appendChild(s),p.length<1){if(!e.emptyMsg)return void w();var l=o.createElement("div");l.className="empty",l.textContent=e.emptyMsg,r.appendChild(l)}r.parentNode||o.body.appendChild(r),function(){if(g()){i.height="auto",i.width=v.offsetWidth+"px";var t,n=0;a(),a(),e.customize&&t&&e.customize(v,t,r,n)}function a(){var e=o.documentElement,r=e.clientTop||o.body.clientTop||0,a=e.clientLeft||o.body.clientLeft||0,s=window.pageYOffset||e.scrollTop,u=window.pageXOffset||e.scrollLeft,l=(t=v.getBoundingClientRect()).top+v.offsetHeight+s-r,c=t.left+u-a;i.top=l+"px",i.left=c+"px",(n=window.innerHeight-(t.top+v.offsetHeight))<0&&(n=0),i.top=l+"px",i.bottom="",i.left=c+"px",i.maxHeight=n+"px"}}(),function(){var e=r.getElementsByClassName("selected");if(e.length>0){var t=e[0],n=t.previousElementSibling;if(n&&-1!==n.className.indexOf("group")&&!n.previousElementSibling&&(t=n),t.offsetTop<r.scrollTop)r.scrollTop=t.offsetTop;else{var o=t.offsetTop+t.offsetHeight,i=r.scrollTop+r.offsetHeight;o>i&&(r.scrollTop+=o-i)}}}()}function E(){g()&&k()}function O(){E()}function C(e){e.target!==r?E():e.preventDefault()}function A(e){for(var t=e.which||e.keyCode||0,n=0,o=[38,13,27,39,37,16,17,18,20,91,9];n<o.length;n++)if(t===o[n])return;t>=112&&t<=123||40===t&&g()||M(0)}function S(n){var o=n.which||n.keyCode||0;if(38===o||40===o||27===o){var r=g();if(27===o)w();else{if(!r||p.length<1)return;38===o?function(){if(p.length<1)t=void 0;else if(t===p[0])t=p[p.length-1];else for(var e=p.length-1;e>0;e--)if(t===p[e]||1===e){t=p[e-1];break}}():function(){if(p.length<1&&(t=void 0),t&&t!==p[p.length-1]){for(var e=0;e<p.length-1;e++)if(t===p[e]){t=p[e+1];break}}else t=p[0]}(),k()}return n.preventDefault(),void(r&&n.stopPropagation())}13===o&&(t&&(e.onSelect(t,v),w()),l&&n.preventDefault())}function P(){m&&M(1)}function M(o){var r=++y,i=v.value;i.length>=h||1===o?(b(),n=window.setTimeout((function(){e.fetch(i,(function(e){y===r&&e&&(f=i,t=(p=e).length<1||c?void 0:p[0],k())}),o)}),0===o?u:0)):w()}function V(){setTimeout((function(){o.activeElement!==v&&w()}),200)}return r.className="autocomplete "+(e.className||""),i.position="absolute",r.addEventListener("mousedown",(function(e){e.stopPropagation(),e.preventDefault()})),r.addEventListener("focus",(function(){return v.focus()})),v.addEventListener("keydown",S),v.addEventListener(d,A),v.addEventListener("blur",V),v.addEventListener("focus",P),window.addEventListener("resize",O),o.addEventListener("scroll",C,!0),{destroy:function(){v.removeEventListener("focus",P),v.removeEventListener("keydown",S),v.removeEventListener(d,A),v.removeEventListener("blur",V),window.removeEventListener("resize",O),o.removeEventListener("scroll",C,!0),b(),w()}}}}()},5562:function(e,t,n){"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}n.r(t),n.d(t,{CustomHeader:function(){return c},CustomTextfield:function(){return b},PlsPlusAddress:function(){return Q},PlsPlusAddressMode:function(){return H}});var l=Formio.Components.components.htmlelement,c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(p,e);var t,n,o,c,d=(o=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(o);if(c){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function p(){return r(this,p),d.apply(this,arguments)}return t=p,n=[{key:"schema",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.schema.apply(l,[{label:"CustomHeader",type:"customheader",tag:"h1"}].concat(t))}},{key:"builderInfo",get:function(){return{title:"CustomHeader",group:"custom",icon:"code",weight:2,documentation:"/userguide/#html-element-component",schema:p.schema()}}}],null&&i(t.prototype,null),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(l);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v=Formio.Components.components.textfield,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(o);if(r){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function a(){return p(this,a),i.apply(this,arguments)}return t=a,n=[{key:"schema",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.schema.apply(v,[{label:"CustomTextfield",type:"customtextfield"}].concat(t))}},{key:"builderInfo",get:function(){return{title:"CustomTextfield",group:"custom",icon:"terminal",weight:2,documentation:"/userguide/#html-element-component",schema:a.schema()}}}],null&&f(t.prototype,null),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(v),g=n(7338),w=n.n(g),k=n(6486),E=n.n(k),O=[{key:"multiple",customConditional:function(){return!1}},{key:"defaultValue",customConditional:function(){return!1}}],C=[{weight:30,type:"textfield",input:!0,key:"switchToManualModeLabel",label:"Switch To Manual Mode Label",placeholder:"Switch To Manual Mode Label",tooltip:"The label for the checkbox used to switch to manual mode.",validate:{required:!0},customConditional:function(e){var t=e.data;return Boolean(t.enableManualMode)}},{weight:40,type:"checkbox",input:!0,key:"disableClearIcon",label:"Disable Clear Icon",tooltip:"Clear Icon allows easily clear component's value."},{type:"textfield",label:"Add Another Text",key:"addAnother",tooltip:"Set the text of the Add Another button.",placeholder:"Add Another",weight:410,input:!0,customConditional:function(e){return e.data.multiple}}],A=[{type:"textfield",input:!0,key:"providerOptions.params['apiKey']",label:"Franchise API key",placeholder:"Enter Franchise API Key",weight:10,tooltip:"You must have an API key in order to use this component.",description:"You must have a API key in order to use this component, please contact <a href='mailto:qol.development@smartservice.qld.gov.au' target='_blank'>qol.development@smartservice.qld.gov.au</a>(TBC) if you want to acquire an API key. (To be confirmed)",validate:{required:!0}},{type:"textfield",input:!0,key:"providerOptions.apiBase",label:"Custom API base URL",placeholder:"Enter base URL",weight:10,tooltip:"Leave blank for using the default URL.",description:"The default PlsPlus API base URL is `https://www.address.services.qld.gov.au`, you can override that by providing a different base URL."}],S=Formio.Components.components.base.editForm;function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=_(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},T.apply(this,arguments)}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function F(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var q=Formio.Components.components.container,N=Formio.Components.components.field,z=Formio.Components.components.nested,H={Autocomplete:"autocomplete",Manual:"manual"},K="address-autocomplete-remove-value-icon--hidden",U={pattern:"^((?![<>\\{\\}]).)*$",customMessage:"You have exceeded the character limit or included html or special characters, e.g. <,>,{,},\\",maxLength:40},Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(s,e);var t,n,o,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(i){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return F(this,e)});function s(){return R(this,s),a.apply(this,arguments)}return t=s,n=[{key:"mergeSchema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.defaultSchema;return e.components&&(t=E().omit(t,"components")),E().defaultsDeep(e,t)}},{key:"composedAddress",get:function(){var e=this.address;return[e.address1,e.address2,e.address3,e.city,e.state,e.postcode].join(" ").replace(/ +/g," ").trim()}},{key:"onChange",value:function(e,t){var n,o;return this.autocompleteMode?null!==(o=this.dataValue)&&void 0!==o&&o.address&&(this.dataValue.address.selectedAddress=this.address.autocompleteAddress):null!==(n=this.dataValue)&&void 0!==n&&n.address&&(this.dataValue.address.selectedAddress=this.composedAddress),T(B(s.prototype),"onChange",this).call(this,e,t)}},{key:"init",value:function(){if(this.components=this.components||[],(this.builderMode||this.manualModeEnabled)&&z.prototype.addComponents.call(this,this.address),N.prototype.init.call(this),!this.builderMode){var e=this.component,t=e.provider,n=void 0===t?"plsPlus":t,o=e.providerOptions;n&&(this.provider=this.initializeProvider(n,o))}}},{key:"initializeProvider",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Formio.Providers.getProvider("address",e);return new n(j({},t))}},{key:"emptyValue",get:function(){return this.manualModeEnabled?{mode:H.Autocomplete,address:{address1:"",address2:"",address3:"",city:"",postcode:"",autocompleteAddress:"",selectedAddress:"",state:"QLD"}}:{}}},{key:"mode",get:function(){var e,t;return this.manualModeEnabled&&null!==(e=null===(t=this.dataValue)||void 0===t?void 0:t.mode)&&void 0!==e?e:H.Autocomplete},set:function(e){this.manualModeEnabled&&(this.dataValue.mode=e)}},{key:"autocompleteMode",get:function(){return this.mode===H.Autocomplete}},{key:"manualMode",get:function(){return this.mode===H.Manual}},{key:"manualModeEnabled",get:function(){return Boolean(this.component.enableManualMode)}},{key:"restoreComponentsContext",value:function(){var e=this;this.getComponents().forEach((function(t){t.data=e.address,t.setValue(t.dataValue,{noUpdateEvent:!0})}))}},{key:"isMultiple",get:function(){return Boolean(this.component.multiple)}},{key:"address",get:function(){return this.manualModeEnabled&&this.dataValue?this.dataValue.address:this.dataValue},set:function(e){this.manualModeEnabled?this.dataValue.address=e:this.dataValue=e}},{key:"defaultValue",get:function(){return T(B(s.prototype),"defaultValue",this)}},{key:"defaultSchema",get:function(){return j(j({},s.schema()),{},{tree:"true"})}},{key:"isValueInLegacyFormat",value:function(e){return e&&!e.mode}},{key:"normalizeValue",value:function(e){return this.manualModeEnabled&&this.isValueInLegacyFormat(e)?{mode:H.Autocomplete,address:e}:e}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=N.prototype.setValue.call(this,e,t);return this.restoreComponentsContext(),(n||!E().isEmpty(e)&&t.fromSubmission)&&this.redraw(),n}},{key:"modeSwitcher",get:function(){return this.refs&&this.refs[s.modeSwitcherRef]||null}},{key:"removeValueIcon",get:function(){return this.refs&&this.refs[s.removeValueIconRef]||null}},{key:"searchInput",get:function(){return this.refs&&this.refs[s.searchInputRef]||null}},{key:"searchInputAttributes",get:function(){var e,t,n={name:this.options.name,type:"text",class:"form-control",lang:this.options.language,tabindex:this.component.tabindex||0};return this.component.placeholder&&(n.placeholder=this.t(this.component.placeholder)),(this.disabled||this.manualMode||null===(e=this.component.providerOptions)||void 0===e||null===(t=e.params)||void 0===t||!t.apiKey)&&(n.disabled="disabled"),E().defaults(n,this.component.attributes),n}},{key:"templateName",get:function(){return"plsPlusAddress"}},{key:"hasChildren",get:function(){return this.builderMode||this.manualModeEnabled}},{key:"renderElement",value:function(e){var t,n,o=this;return this.getComponents().forEach((function(e){e.disabled=!o.manualMode,e.onChange=function(e,t){return o.dataValue.address.selectedAddress=o.composedAddress,T(B(s.prototype),"onChange",o).call(o,e,t)}})),this.component.validate.required=!this.manualMode,this.renderTemplate(this.templateName,{children:this.hasChildren?this.renderComponents():"",nestedKey:this.nestedKey,inputAttributes:this.searchInputAttributes,ref:{modeSwitcher:s.modeSwitcherRef,removeValueIcon:s.removeValueIconRef,searchInput:s.searchInputRef},displayValue:this.getDisplayValue(e),mode:{autocomplete:this.autocompleteMode,manual:this.manualMode},hasApiKey:!(null===(t=this.component.providerOptions)||void 0===t||null===(n=t.params)||void 0===n||!n.apiKey)})}},{key:"render",value:function(){return T(B(s.prototype),"render",this).call(this,this.renderElement())}},{key:"onSelectAddress",value:function(e,t,n){this.address.autocompleteAddress=e,this.triggerChange({modified:!0}),t&&(t.value=this.getDisplayValue(this.address)),this.updateRemoveIcon(n)}},{key:"attach",value:function(e){var t,n=this,o=(this.builderMode||this.manualMode?T(B(s.prototype),"attach",this):N.prototype.attach).call(this,e);if(!this.builderMode&&!this.provider&&this.component.provider){var r=this.component,i=r.provider,a=void 0===i?"plsPlus":i,u=r.providerOptions;this.provider=this.initializeProvider(a,u)}return this.loadRefs(e,(I(t={},s.modeSwitcherRef,"single"),I(t,s.removeValueIconRef,"multiple"),I(t,s.searchInputRef,"multiple"),t)),this.searchInput.forEach((function(e,t){!n.builderMode&&e&&n.provider&&(w()({input:e,debounceWaitMs:300,fetch:function(e,t){var o=e;n.provider.search(o).then((function(e){t(e)}))},render:function(e){var t=n.ce("div");return t.textContent=e,t},onSelect:function(o){n.onSelectAddress(o,e,t),n.provider.parseAddress(o).then((function(e){n.address=j(j({},n.address),n.provider.breakAddress(e)),n.triggerChange({modified:!0}),n.restoreComponentsContext(),n.getComponents().forEach((function(e){document.getElementById("".concat(e.id,"-").concat(e.component.key)).value=e.dataValue}))}))}}),n.addEventListener(e,"blur",(function(){e&&e.value&&(e.value=n.getDisplayValue(n.address))})),n.addEventListener(e,"keyup",(function(){e&&(e.value||n.clearAddress(e,t))})))})),this.modeSwitcher&&this.addEventListener(this.modeSwitcher,"change",(function(){n.modeSwitcher&&(n.mode=n.modeSwitcher.checked?H.Manual:H.Autocomplete,n.builderMode||(n.manualMode&&n.restoreComponentsContext(),n.triggerChange({modified:!0})),n.redraw())})),this.builderMode||this.removeValueIcon.forEach((function(e,t){n.updateRemoveIcon(t);var o=function(){var e,o=null===(e=n.searchInput)||void 0===e?void 0:e[t];n.clearAddress(o,t),o&&o.focus()};n.addEventListener(e,"click",o),n.addEventListener(e,"keydown",(function(e){"Enter"===e.key&&o()}))})),o}},{key:"redraw",value:function(){var e=this,t=this.modeSwitcher&&document.activeElement===this.modeSwitcher;return T(B(s.prototype),"redraw",this).call(this).then((function(n){return t&&e.modeSwitcher&&e.modeSwitcher.focus(),n}))}},{key:"clearAddress",value:function(e,t){var n,o=this;this.isEmpty()||this.triggerChange(),null!==(n=this.address)&&void 0!==n&&n[t]?this.address[t]=this.emptyValue.address:this.address=this.emptyValue.address,e&&(e.value=""),this.getComponents().forEach((function(e){var t=document.getElementById("".concat(e.id,"-").concat(e.component.key));t&&(t.value=o.address[e.component.key]||"")})),this.updateRemoveIcon(t)}},{key:"getDisplayValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.address;return this.provider?this.provider.getDisplayValue(e):""}},{key:"updateRemoveIcon",value:function(e){var t,n=null===(t=this.removeValueIcon)||void 0===t?void 0:t[e];if(n){var o=this.address;this.manualMode||this.isEmpty(o)||E().isEmpty(o)||this.disabled||""===o.autocompleteAddress?this.addClass(n,K):this.removeClass(n,K)}}},{key:"getValueAsString",value:function(e,t){if(!e)return"";var n=this.normalizeValue(e),o=this.manualModeEnabled?n:{address:n,mode:H.Autocomplete},r=o.address,i=o.mode===H.Manual;return this.provider&&!i?this.getDisplayValue(r):i?this.component.manualModeViewString?this.interpolate(this.component.manualModeViewString,{address:r,data:this.data,component:this.component}):this.getComponents().filter((function(e){return e.hasValue(r)})).map((function(e){return[e,E().get(r,e.key)]})).filter((function(e){var t=M(e,2),n=t[0],o=t[1];return!n.isEmpty(o)})).map((function(e){var n=M(e,2),o=n[0],r=n[1];return o.getValueAsString(r,t)})).join(", "):T(B(s.prototype),"getValueAsString",this).call(this,r,t)}},{key:"focus",value:function(){this.searchInput&&this.searchInput[0]&&this.searchInput[0].focus()}}],o=[{key:"schema",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return q.schema.apply(q,[{type:"plsplusaddress",label:"Address",key:"address",switchToManualModeLabel:"Can't find address? Switch to manual mode.",providerOptions:{},manualModeViewString:"",hideLabel:!1,disableClearIcon:!1,enableManualMode:!0,components:[{label:"Autocomplete address",persistent:!1,tableView:!1,key:"autocompleteAddress",type:"hidden"},{label:"Selected address",persistent:!1,tableView:!1,key:"selectedAddress",type:"hidden"},{label:"Address line 1 <i>(include unit number if needed)</i>",persistent:!1,tableView:!1,key:"address1",type:"textfield",input:!0,validate:j({required:!0},U)},{label:"Address line 2",persistent:!1,tableView:!1,key:"address2",type:"textfield",input:!0,validate:U},{label:"Address line 3",persistent:!1,tableView:!1,key:"address3",type:"textfield",input:!0,validate:U},{label:"Town, City or Suburb",persistent:!1,tableView:!1,key:"city",type:"textfield",input:!0,validate:j({required:!0},U)},{label:"State",persistent:!1,tableView:!1,key:"state",type:"textfield",input:!0,disabled:!0,defaultValue:"QLD"},{label:"Postcode",persistent:!1,tableView:!1,key:"postcode",type:"textfield",input:!0,inputMask:"9999",validate:{required:!0,pattern:"^([0-9]{4})$",customMessage:"Invalid postcode format",minLength:4,maxLength:4}}]}].concat(t))}},{key:"builderInfo",get:function(){return{title:"PlsPlusAddress",group:"custom",icon:"home",documentation:"/userguide/#address",weight:2,schema:j(j({},s.schema()),{},{tree:!0})}}},{key:"modeSwitcherRef",get:function(){return"modeSwitcher"}},{key:"removeValueIconRef",get:function(){return"removeValueIcon"}},{key:"searchInputRef",get:function(){return"searchInput"}}],n&&L(t.prototype,n),o&&L(t,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(q);Q.editForm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.apply(void 0,[[{key:"data",components:O},{key:"display",components:C},{label:"Provider",key:"provider",weight:15,components:A}]].concat(t))}}}]);
//# sourceMappingURL=562.formio-qld.min.js.map