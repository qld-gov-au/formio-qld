!function(o,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.FormioLoader=e():o.FormioLoader=e()}(globalThis,(function(){return(()=>{"use strict";var o={d:(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o:(o,e)=>Object.prototype.hasOwnProperty.call(o,e),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},e={};o.r(e),o.d(e,{initFormio:()=>i,initFormioInstance:()=>r});const r=(o,e)=>{if(o.dataset.formioFormUrl)return;if(!e.envUrl||!e.projectName||!e.formName)return void console.warn("Require envUrl, projectName, formName to initiate the form.",e);const r=$("body"),t="contact-us/response/",i=`https://${e.envUrl.trim()}`,n=o.getAttribute("id"),m=$(`#${n} button[name='data[submit]']`);let a="";a=e.form_revision?`${e.formName}/v/${e.form_revision}`:e.formName;const{projectName:f}=e,s=e.formConfirmation||t,c=e.namespace||`formio-${f}`,p=`${i}/${f}/${a}`,d=new Formio(p,{base:i,project:`${i}/${f}`,namespace:c});o.dataset.formio=JSON.stringify(d),o.dataset.formioFormUrl=p,Formio.createForm(o,p,{buttonSettings:{showCancel:!1,showPrevious:!1,showNext:!1,showSubmit:!1},i18n:{en:{pattern:"Must use the format shown"}},formio:d,namespace:d.options.namespace}).then((o=>{o.formio=d,o.options.formio=d;const e=o._form.title,i=o._form.modified;r.on("click",`#${n} a`,(o=>{o.target.target="_blank"})),o.on("click",(o=>{const r=o;void 0!==r.changed&&void 0!==r.changed.component&&window.dataLayer.push({event:"formio-interaction","formio-name":e,"formio-input-id":r.changed.component.id,"formio-input-type":r.changed.component.type,"formio-input-value":r.changed.component.value,"formio-input-key":r.changed.component.key,"formio-input-label-raw":r.changed.component.label,"formio-version":i,"formio-category":`Form: ${e}`,"formio-action":"Value changed"})})),o.on("applicationSubmit",(()=>{m.attr("disabled",!0),o.submit().then((()=>{window.location.href=s?`/${s}`:t})).catch((()=>{console.debug("Submission error")}))}))}))},t={priority:0,preRequest(o){if(o.formio){const e=document.querySelector(`[data-form-url="${o.formio.formUrl}"]`);e&&(o.formio=JSON.parse(e.dataset.formio),o.opts.formio=o.formio),o.formio.options&&(o.opts.namespace=o.formio.options.namespace)}return Promise.resolve(null)}},i=()=>{window.dataLayer=window.dataLayer||[],Formio.icons="fontawesome",premium&&Formio.use(premium),(()=>{const o=Formio.Form.prototype.errorForm.bind({});Formio.Form.prototype.errorForm=e=>"string"==typeof e&&-1!==e.indexOf("Could not connect to API server")||"object"==typeof e&&e.networkError?(console.warn("formio error: ",e),o("This form is currently unavailable due to maintenance. Please try again later.")):o(e)})(),Formio.registerPlugin(t,"namespacePolyfill"),document.querySelectorAll("[data-formio]").forEach((o=>{const{formioProjectName:e,formioFormName:t,formioEnvUrl:i,formioPdfDownload:n,formioFormConfirmation:m,formioFormRevision:a,formioNamespace:f}=o.dataset;r(o,{projectName:e,formName:t,envUrl:i,pdfDownload:n,formConfirmation:m,formRevision:a,namespace:f})}))};return i(),window.onpageshow=o=>{o.persisted&&window.location.reload()},e})()}));
//# sourceMappingURL=formio-loader.min.js.map