!function(o,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.FormioLoader=e():o.FormioLoader=e()}(globalThis,(function(){return(()=>{var o={283:o=>{o.exports={buttonSettings:{showCancel:!1,showPrevious:!1,showNext:!1,showSubmit:!1},i18n:{en:{pattern:"Must use the format shown",error:'<h2><span class="fa fa-exclamation-triangle"></span> Please check your answers</h2>'}}}}},e={};function r(t){var n=e[t];if(void 0!==n)return n.exports;var i=e[t]={exports:{}};return o[t](i,i.exports,r),i.exports}r.n=o=>{var e=o&&o.__esModule?()=>o.default:()=>o;return r.d(e,{a:e}),e},r.d=(o,e)=>{for(var t in e)r.o(e,t)&&!r.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:e[t]})},r.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e),r.r=o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var t={};return(()=>{"use strict";r.r(t),r.d(t,{initFormio:()=>a,initFormioInstance:()=>n});var o=r(283),e=r.n(o);const n=(o,r)=>{if(o.dataset.formioFormUrl)return;if(!r.envUrl||!r.projectName||!r.formName)return void console.warn("Require envUrl, projectName, formName to initiate the form.",r);const t="contact-us/response/",n=`https://${r.envUrl.trim()}`,i=$(o,"button[name='data[submit]']");let a="";a=r.form_revision?`${r.formName}/v/${r.form_revision}`:r.formName;const{projectName:m}=r,f=r.formConfirmation||t,s=r.namespace||`formio-${m}`,c=`${n}/${m}/${a}`,p=new Formio(c,{base:n,project:`${n}/${m}`,namespace:s});o.dataset.formio=JSON.stringify(p),o.dataset.formioFormUrl=c;const l={...e(),formio:p,namespace:p.options.namespace},d={...l,..."function"==typeof r.createFormOptions&&r.createFormOptions({envUrl:r.envUrl,projectName:r.projectName,formName:r.formName,defaultOptions:l,elem:o})};Formio.createForm(o,c,d).then((e=>{e.formio=p,e.options.formio=p;const n=e._form.title,a=e._form.modified;$(o).on("click","a",(o=>{o.target.target="_blank"})),e.on("click",(o=>{const e=o;void 0!==e.changed&&void 0!==e.changed.component&&window.dataLayer.push({event:"formio-interaction","formio-name":n,"formio-input-id":e.changed.component.id,"formio-input-type":e.changed.component.type,"formio-input-value":e.changed.component.value,"formio-input-key":e.changed.component.key,"formio-input-label-raw":e.changed.component.label,"formio-version":a,"formio-category":`Form: ${n}`,"formio-action":"Value changed"})})),e.on("applicationSubmit",(()=>{i.attr("disabled",!0),e.submit().then((()=>{window.location.href=f?`/${f}`:t})).catch((()=>{console.debug("Submission error")}))})),"function"==typeof r.createFormController&&r.createFormController({envUrl:r.envUrl,projectName:r.projectName,formName:r.formName,form:e,elem:o})}))},i={priority:0,preRequest(o){if(o.formio){const e=document.querySelector(`[data-form-url="${o.formio.formUrl}"]`);e&&(o.formio=JSON.parse(e.dataset.formio),o.opts.formio=o.formio),o.formio.options&&(o.opts.namespace=o.formio.options.namespace)}return Promise.resolve(null)}},a=()=>{window.dataLayer=window.dataLayer||[],Formio.icons="fontawesome",premium&&Formio.use(premium),(()=>{const o=Formio.Form.prototype.errorForm.bind({});Formio.Form.prototype.errorForm=e=>"string"==typeof e&&-1!==e.indexOf("Could not connect to API server")||"object"==typeof e&&e.networkError?(console.warn("formio error: ",e),o("This form is currently unavailable due to maintenance. Please try again later.")):o(e)})(),Formio.registerPlugin(i,"namespacePolyfill"),document.querySelectorAll("[data-formio]").forEach((o=>{const{formioProjectName:e,formioFormName:r,formioEnvUrl:t,formioPdfDownload:i,formioFormConfirmation:a,formioFormRevision:m,formioNamespace:f,formioCreateformOptions:s,formioCreateformController:c}=o.dataset;n(o,{projectName:e,formName:r,envUrl:t,pdfDownload:i,formConfirmation:a,formRevision:m,namespace:f,createFormOptions:window[s],createFormController:window[c]})}))};window.onpageshow=o=>{o.persisted&&window.location.reload()}})(),t})()}));
//# sourceMappingURL=formio-loader.min.js.map